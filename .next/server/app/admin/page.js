(()=>{var e={};e.id=3,e.ids=[3],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},5100:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=r(482),a=r(9108),n=r(2563),o=r.n(n),i=r(8300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,245)),"/home/danielbor/Documentos/PWG/Dev/App-Facturacion/to-do-list-fronted/src/app/admin/page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1965)),"/home/danielbor/Documentos/PWG/Dev/App-Facturacion/to-do-list-fronted/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],d=["/home/danielbor/Documentos/PWG/Dev/App-Facturacion/to-do-list-fronted/src/app/admin/page.jsx"],u="/admin/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1240:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},4563:(e,t,r)=>{Promise.resolve().then(r.bind(r,1208))},8888:(e,t,r)=>{Promise.resolve().then(r.bind(r,2249))},5366:function(e,t,r){"use strict";var s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return n(t,e),t},i=this&&this.__rest||function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>t.indexOf(s)&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)0>t.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r};Object.defineProperty(t,"__esModule",{value:!0});var l=o(r(3729)),c=r(9663),d=(0,r(9946).createAnimation)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");t.default=function(e){var t=e.loading,r=e.color,a=void 0===r?"#000000":r,n=e.speedMultiplier,o=e.cssOverride,u=e.size,p=void 0===u?35:u,m=i(e,["loading","color","speedMultiplier","cssOverride","size"]),x=s({background:"transparent !important",width:(0,c.cssValue)(p),height:(0,c.cssValue)(p),borderRadius:"100%",border:"2px solid",borderTopColor:a,borderBottomColor:"transparent",borderLeftColor:a,borderRightColor:a,display:"inline-block",animation:"".concat(d," ").concat(.75/(void 0===n?1:n),"s 0s infinite linear"),animationFillMode:"both"},void 0===o?{}:o);return void 0===t||t?l.createElement("span",s({style:x},m)):null}},9946:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAnimation=void 0,t.createAnimation=function(e,t,r){return"react-spinners-".concat(e,"-").concat(r)}},9663:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cssValue=t.parseLengthAndUnit=void 0;var r={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function s(e){if("number"==typeof e)return{value:e,unit:"px"};var t,s=(e.match(/^[0-9.]*/)||"").toString();t=s.includes(".")?parseFloat(s):parseInt(s,10);var a=(e.match(/[^0-9]*$/)||"").toString();return r[a]?{value:t,unit:a}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}t.parseLengthAndUnit=s,t.cssValue=function(e){var t=s(e);return"".concat(t.value).concat(t.unit)}},2249:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(2295),a=r(3729),n=r(6885);let o=function({onFilterChange:e,usuarios:t}){let[r,n]=(0,a.useState)("todas"),[o,i]=(0,a.useState)("todos"),l=t.filter(e=>e?.role==="colaborador");return(0,a.useEffect)(()=>{e({selectedStatus:r,selectedUser:o})},[r,o,e]),(0,s.jsxs)("div",{className:"p-4",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4 my-10",children:"Filtros"}),(0,s.jsxs)("div",{className:"flex items-center flex-col md:flex-row gap-4",children:[s.jsx("label",{className:"font-bold",htmlFor:"",children:"Estado: "}),(0,s.jsxs)("select",{className:"form-select block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",value:r,onChange:e=>{n(e.target.value)},children:[s.jsx("option",{value:"todas",children:"Todas"}),s.jsx("option",{value:"atrasada",children:"Atrasada"}),s.jsx("option",{value:"completada",children:"Completada"}),s.jsx("option",{value:"pendiente",children:"Pendiente"})]}),s.jsx("label",{className:"font-bold",htmlFor:"",children:"Usuario: "}),(0,s.jsxs)("select",{className:"form-select block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",value:o,onChange:e=>{i(e.target.value)},children:[s.jsx("option",{value:"todos",children:"Todos"}),l.map(e=>s.jsx("option",{value:`${e?.name}`,children:e?.name},e?.id))]})]})]})};var i=r(1356),l=r(2254),c=r(3608),d=r(5366),u=r.n(d);let p=function({data:e,loading:t,headers:r,columns:a}){return 0===e.length?s.jsx(s.Fragment,{children:t?s.jsx("div",{className:"flex items-center justify-center h-20",children:s.jsx(u(),{loading:t})}):s.jsx("p",{className:"text-center font-black text-2xl text-gray-700",children:"No hay datos"})}):s.jsx(s.Fragment,{children:t?s.jsx("div",{className:"flex items-center justify-center h-20",children:s.jsx(u(),{loading:t})}):(0,s.jsxs)("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-sm uppercase bg-blue-500 text-white",children:s.jsx("tr",{children:r.map(e=>s.jsx("th",{scope:"col",className:"px-6 py-3",children:e.label},e.key))})}),s.jsx("tbody",{children:e.map(e=>s.jsx("tr",{className:"hover:bg-gray-100 border ",children:a.map(t=>s.jsx("td",{className:"px-6 py-4",children:t.render(e)},t.key))},e.id))})]})})};var m=r(168);let x=function(){let e=(0,i.getCookie)("usuario"),t=(0,l.useRouter)(),[r,d]=(0,a.useState)([]),[u,x]=(0,a.useState)(!1),[h,f]=(0,a.useState)([]),[b,g]=(0,a.useState)({selectedStatus:"todas",selectedUser:"todos"}),v=async()=>{try{x(!0);let e=await (0,c.Z)("https://webdevgt.com/pwg/public/api/tareas");x(!1),d(e.data)}catch(e){console.log(e)}},j=async()=>{try{x(!0);let e=await (0,c.Z)("https://webdevgt.com/pwg/public/api/users");x(!1),f(e.data)}catch(e){console.log(e)}},y=(0,a.useCallback)(e=>{g(e),j()},[g]),N=(0,a.useMemo)(()=>r.filter(e=>{let t="todas"===b.selectedStatus||e.estado===b.selectedStatus,r="todos"===b.selectedUser||e.user?.name===b.selectedUser;return t&&r}),[r,b.selectedStatus,b.selectedUser]),w=Object.values((e=>{let t=new Date().toISOString().split("T")[0];return e.reduce((e,r)=>{let s=r.user?.id,a=r.fecha_vencimiento;if(s&&"number"==typeof r.hora&&a&&("pendiente"!==r.estado||"pendiente"===r.estado&&new Date(a)<=new Date(t))){let t=(e[s]?.horasTotales||0)+r.hora;e[s]={userId:s,nombre:h.find(e=>e.id===parseInt(s))?.name,horasTotales:t}}return e},{})})(N));(0,a.useEffect)(()=>{v()},[]);let _=JSON.parse(e??"{}");return(0,a.useEffect)(()=>{if(!e){t.push("/");return}},[]),s.jsx(n.default,{children:_?.role!=="colaborador"?(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold mb-4 my-10",children:"Administra las tareas"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:w.map(e=>s.jsx("div",{className:"max-w-sm mx-auto bg-white rounded-lg overflow-hidden shadow-md mb-4",children:(0,s.jsxs)("div",{className:"p-4",children:[s.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-800 text-center",children:e.nombre}),s.jsx("p",{className:"text-gray-600 font-bold text-xl",children:`${(0,m.E)(e.horasTotales)}`})]})},e.userId))}),s.jsx(o,{usuarios:h,onFilterChange:y}),s.jsx(p,{headers:[{key:1,label:"Descripcion"},{key:2,label:"Horas"},{key:3,label:"Estado"},{key:4,label:"Colaborador"}],columns:[{key:"descripcion",render:e=>s.jsx("div",{children:(0,s.jsxs)("p",{className:"ml-3 text-sm",children:[" ",s.jsx("span",{className:"font-bold capitalize",children:`${e?.plataforma} - ${(0,m.i)(e?.fecha_vencimiento)} - `}),e?.descripcion]})})},{key:"hora",render:e=>s.jsx("div",{children:s.jsx("p",{className:"ml-3 text-sm",children:(0,m.E)(e?.hora)})})},{key:"estado",render:e=>s.jsx("div",{children:s.jsx("span",{className:`${"completada"===e.estado?"bg-green-100 text-green-800 border-green-400":"atrasada"===e.estado?"bg-red-100 text-red-800 border-red-400 ":"bg-blue-100 text-blue-800 border-blue-400"} text-xs font-medium me-2 px-2.5 py-0.5 rounded border`,children:e?.estado})})},{key:"usuario",render:e=>s.jsx("div",{children:s.jsx("p",{className:"font-bold",children:e?.user?.name})})}],data:N,loading:u})]}):s.jsx("div",{children:s.jsx("h1",{className:"text-center font-black text-4xl my-10 text-gray-700",children:"Esta ruta esta protegida, \xa1No eres un administrador!"})})})}},6885:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(2295),a=r(783),n=r.n(a),o=r(2254),i=r(1356),l=r(9450),c=r(7088),d=r(822),u=r(4306),p=r(9578);let m=function(){let e=(0,o.useRouter)(),t=JSON.parse((0,i.getCookie)("usuario")),r=[{title:"Mis Tareas",src:l.Z,path:"/mis-tareas"},{title:"Usuarios",src:c.Z,path:"/usuarios"},{title:"Administrar",src:d.Z,path:"/admin"},{title:"Reportes",src:u.Z,path:"/reportes"}];return s.jsx("aside",{className:"md:w-1/10 p-5 pt-8 relative duration-300 bg-blue-600 px-5 py-10 md:overflow-y-auto md:h-screen",children:(0,s.jsxs)("header",{className:"flex flex-col justify-between h-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-x-4 justify-center items-center py-3",children:[s.jsx("h1",{className:"text-white origin-left font-medium text-xl duration-200 ",children:"PWG"}),s.jsx("nav",{className:"flex flex-col justify-center py-3",children:r.map((e,r)=>s.jsx("div",{children:t?.role==="administrador"&&"Mis Tareas"!==e.title||t?.role==="colaborador"&&"Mis Tareas"===e.title?s.jsx(n(),{href:e.path,className:"w-full my-4 rounded-md p-2 cursor-pointer transition-colors duration-300 hover:bg-gray-200 hover:text-blue-600 flex items-center text-white",children:s.jsx(e.src,{className:"h-6 w-6"})},r):null},r))})]}),s.jsx("button",{onClick:()=>{(0,i.deleteCookie)("_token"),(0,i.deleteCookie)("usuario"),e.push("/")},className:"flex text-sm gap-x-4 items-center justify-center cursor-pointer text-white p-2 rounded-sm transition-colors duration-300 hover:bg-gray-200 hover:text-blue-600",children:s.jsx(p.Z,{className:"w-8 h-8"})})]})})};var x=r(3729);let h=function({children:e}){let[t,r]=(0,x.useState)(null),a=(0,o.useRouter)();return(0,x.useEffect)(()=>{let e=(0,i.getCookie)("_token");r(e),e||a.push("/")},[a]),s.jsx(s.Fragment,{children:t?(0,s.jsxs)("div",{className:"md:flex md:min-h-screen",children:[s.jsx(m,{}),s.jsx("main",{className:"md:w-full md:h-screen overflow-auto p-10",children:e})]}):s.jsx("main",{className:"flex justify-center items-center min-h-screen",children:(0,s.jsxs)("div",{className:"p-6",children:[s.jsx("h1",{className:"text-center text-4xl font-black text-gray-700",children:"Cargando P\xe1gina..."}),s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-blue-500"})})]})})})}},168:(e,t,r)=>{"use strict";r.d(t,{E:()=>a,i:()=>s});let s=e=>new Date(e+"T00:00:00Z").toLocaleDateString("es-GT",{day:"numeric",month:"numeric",year:"numeric",timeZone:"UTC"});function a(e){if(e<60)return`${e} min`;{let t=Math.floor(e/60),r=e%60;return 0===r?`${t} hrs`:`${t} hrs ${r} min`}}},245:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});let s=(0,r(6843).createProxy)(String.raw`/home/danielbor/Documentos/PWG/Dev/App-Facturacion/to-do-list-fronted/src/app/admin/page.jsx`),{__esModule:a,$$typeof:n}=s,o=s.default},1965:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>i});var s=r(5036),a=r(1541),n=r.n(a);r(5023),r(7001);var o=r(3222);let i={title:"To Do List",description:"To Do List"};function l({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{className:n().className,children:[s.jsx(o.Ix,{}),e]})})}},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[504,890,608],()=>r(5100));module.exports=s})();